<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">

<script>
    (function(){
        if(''){
          // alert('此文章并不公开, 输入文章密码方可阅读');
          var password = prompt('此文章并不公开, 输入文章密码方可阅读');
          if (password !== ''){
            if (password != null) // 如果用户点击了确认而且密码错误的时候, 因为当password == null的时候说明用户点了取消
            {
              alert('Error!');
            }
            if (history.length > 1)
            {
              history.back();
            }
            else
            {
              window.location.href = "about:blank";
            }
          }
        }
    })();
</script>








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/dist/jquery.fancybox.css?v=3.2.10" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="SSR,">








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.2">






<meta name="description" content=". . .">
<meta name="keywords" content="SSR">
<meta property="og:type" content="article">
<meta property="og:title" content="SSR client">
<meta property="og:url" content="https://hulinhong.com/2019/12/08/ssr_client/index.html">
<meta property="og:site_name" content="烫">
<meta property="og:description" content=". . .">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-1.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-2.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-3.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-4.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-5.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-6.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-7.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-8.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-9.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-10.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-11.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-12.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-13.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-14.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-15.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-16.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-17.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-18.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-19.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-20.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-21.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-22.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-23.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-24.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-25.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-26.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-27.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-28.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-29.jpg">
<meta property="og:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-30.jpg">
<meta property="og:updated_time" content="2021-03-17T07:39:49.302Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SSR client">
<meta name="twitter:description" content=". . .">
<meta name="twitter:image" content="https://hulinhong.com/img/ssr_client/ShadowsocksR-1.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"scrollpercent":true,"onmobile":true,"dimmer":true,"body_content_height":0,"display_duration":150},
    local_search: {"enable":true,"trigger":"auto","top_n_per_article":1},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"duration":222,"transition":{"header":"slideDownIn","menu":"slideDownIn","logo":"slideDownIn","post_block_else":"slideDownIn","post_header":"fadeIn","post_body":"fadeIn","coll_header":"slideDownIn","footer":"slideDownIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>








  <title>SSR client | 烫</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">烫</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">烫烫烫烫烫</p>
      
  </div>

  <div class="menu-item sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div class="menu-item site-search">
    
  
  <form class="site-search-form">
    <span class="search-icon fa fa-search"></span>
    <input type="text" id="local-search-input" class="st-search-input">
    <i id="local-search-close">×</i>
  </form>


<script type="text/javascript" id="local.search.active">
var inputArea       = document.querySelector("#local-search-input");
inputArea.onclick   = function(){ getSearchFile(); this.onclick = null }
inputArea.onkeydown = function(){ if(event.keyCode == 13) return false }
</script>



  </div>
  <div id="local-search-result-pc" class="local-search-result-cls"></div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

       
    </ul>
  

  
    
  
</nav>



 </div>
    </header>

    <div id="local-search-result-mobile" class="local-search-result-cls"></div>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/2019/12/08/ssr_client/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="no5ix">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="烫">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">SSR client</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-08T16:38:55+00:00">
                2019-12-08
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Misc/" itemprop="url" rel="index">
                    <span itemprop="name">Misc</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            <div class="post-tags">
              
                <a href="/tags/SSR/" rel="tag"><i class="fa fa-tag"></i> SSR</a>
              
            </div>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/12/08/vscode_cl_code_runner/" rel="next" title="vscode用cl来编译c++">
                <i class="fa fa-chevron-left"></i> 
                <p class="post-nav-pre-next-title">
                  vscode用cl来编译c++
                </p> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/12/08/vs2017_offline_install/" rel="prev" title="Visual Studio 2017 各版本安装包离线下载、安装全解析">
              <p class="post-nav-pre-next-title">
                  Visual Studio 2017 各版本安装包离线下载、安装全解析
              </p> 
              <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      

      
      

      
        <p><strong>. . .</strong><a id="more"></a></p>
<blockquote>
<p>本文为选摘文章，版权分别归 神代綺凜 &amp; HYBRID &amp; Mark 所有，转载请注明出处！</p>
<p>本文链接：<a href="https://www.quchao.net/ShadowsocksR.html" target="_blank" rel="noopener">https://www.quchao.net/ShadowsocksR.html</a></p>
<p>友情提示：如果博客部分链接出现 404，请留言或者联系博主修复。</p>
</blockquote>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>更新：给自建酸酸 / 酸酸乳的朋友们的一些忠告及建议</p>
<ul>
<li>本篇说明仅供交流与学习使用，请勿作出任何违反国家法律的行为。</li>
<li>本教程包含 Windows、Android、iOS、MacOS 端的酸酸乳客户端的<strong>功能介绍</strong>和<strong>使用方法</strong>的详细介绍以及<strong>常见问题解决</strong>。</li>
<li><strong>教程比较长</strong>，很长，长的不行，因此请<strong>按需查看</strong>，灵活运用右侧目录跳转至相应章节，否则可能会引起包括但不限于头晕眼花、心烦意乱、精神恍惚、直接点击右上角等不适现象。</li>
<li>实际上本文的定位大概并不是教程，而是<strong>说明书</strong>……<br>建议萌新们先自己摸索着用用，有不懂的地方再按照目录查阅相关功能的说明解释。</li>
<li>如果还是有不懂的问题可以在评论中提出。  </li>
</ul>
<h2 id="友情提示"><a href="#友情提示" class="headerlink" title="友情提示"></a>友情提示</h2><p>请仔细阅读相关信息</p>
<p>不要问我什么<code>****cloud</code>为什么不能用、<code>*speed</code>怎么用不了，这类问题请不要找我，去找他们，<strong>我与这些团体没有任何关系</strong>，这篇文章也仅仅是一篇单纯针对酸酸（乳）的说明书而已。</p>
<p>最近大家也都知道的，各种形式都很严峻，大批 VPS 被 Q，vu、瓦工、良心 cc 的 IP 都被 Q 的差不多了，而且也有很多人在评论询问我为什么自己的 VPS 总是被 Q。</p>
<p>觉得很有必要在这里说一些自建酸酸 / 酸酸乳所需要注意的事情、能提升 VPS 存活率的建议。</p>
<h2 id="1-不要认为加密-协议-混淆什么的随便都行"><a href="#1-不要认为加密-协议-混淆什么的随便都行" class="headerlink" title="1. 不要认为加密 / 协议 / 混淆什么的随便都行"></a>1. 不要认为加密 / 协议 / 混淆什么的随便都行</h2><h3 id="酸酸"><a href="#酸酸" class="headerlink" title="酸酸"></a>酸酸</h3><p>1、加密请使用 <strong>AEAD</strong> 加密，包括以下几个</p>
<ul>
<li>aes-128-gcm</li>
<li>aes-192-gcm</li>
<li>aes-256-gcm</li>
<li>chacha20-ietf-poly1305</li>
<li>xchacha20-ietf-poly1305</li>
</ul>
<p>对于移动设备来说，ARM v8 以后的 CPU 使用<code>aes-gcm</code>的效率要高于<code>chacha20</code>，因此更推荐使用<code>aes-256-gcm</code></p>
<p>2、混淆请使用 <strong>plain</strong>，即不使用混淆插件，或者使用 <strong>http_simple</strong></p>
<h3 id="酸酸乳"><a href="#酸酸乳" class="headerlink" title="酸酸乳"></a>酸酸乳</h3><ul>
<li>1 加密请使用<code>none</code></li>
<li>2 协议请使用<code>chain_a</code></li>
<li>3 <strong>混淆请使用<code>plain</code></strong>或者<code>http_simple</code></li>
</ul>
<p>能用<code>plain</code>没问题就用<code>plain</code>，当在<code>plain</code>情况下你察觉到网络有异样 *，且你了解<code>http_simple</code>混淆参数的用途，再酌情使用<code>http_simple</code></p>
<h2 id="2-（科普）这些参数的意义是什么"><a href="#2-（科普）这些参数的意义是什么" class="headerlink" title="2. （科普）这些参数的意义是什么"></a>2. （科普）这些参数的意义是什么</h2><p>有很多萌新同学直接拿一键脚本搭建的，脚本要求设置参数的时候也许萌新们就直接一路回车默认过去或者随便选了，殊不知这可能就正是 VPS 被 Q 的原因</p>
<h3 id="混淆为什么不选tls"><a href="#混淆为什么不选tls" class="headerlink" title="混淆为什么不选tls"></a>混淆为什么不选<code>tls</code></h3><p>这是有可能导致被 Q 的一个首要原因，因此我也放到第一位来讲，也许细心的同学们也发现了上述推荐配置中的混淆这一行都加粗了，是的，这非常重要</p>
<p>前段时间我与其他人讨论的时候，就发现了一个共同点，那就是被 Q 的人大多数都使用了<code>tls1.2_ticket_auth</code>混淆；而一些混淆<code>plain</code>的人，即使还在使用老旧甚至过时的协议，却安然无恙</p>
<p>很有理由猜测 GFW 已经掌握了 tls 混淆的特征</p>
<p>让我更确信了我的猜测的是，后来询问我被 Q 相关问题的人，大多数都用的是搬瓦工后台自带酸酸乳，因为我从没有用过搬瓦工，我询问了他们后才知道，搬瓦工的酸酸乳是强制<code>tls1.2_ticket_auth</code>混淆，嗯，真不愧是 GFW 最佳合作伙伴（而且搬瓦工自带酸酸居然没有 AEAD 加密）</p>
<p>后来，推特上也有人指出</p>
<blockquote>
<p>酸酸乳的 tls 凭据复用已经成为安全问题 不要用了</p>
</blockquote>
<p>而且，就 tls 混淆原本的用途来说，tls 混淆只是为了突破部分地区的网络环境才有的 QoS 限制，一般情况下根本不需要使用<br>破娃酱也在文档里说的很明白，一切因使用混淆而产生的看似是网络加速了的效果都是因为绕过了限制，混淆实际上会减慢你的网络速度</p>
<p>并且，如果你并不明白 http(s) 协议的具体细节，没有这方面的计算机网络知识，那么也不要轻易使用<code>http_simple</code>之类的混淆；如果没有必要，也不要使用<code>80</code>和<code>443</code>端口；这些在 GFW 眼里很可能会成为一种明显的特征，会成为 “为什么我的 VPS 好好的就被 Q 了” 的直接原因</p>
<h3 id="加密这块到底是怎么回事"><a href="#加密这块到底是怎么回事" class="headerlink" title="加密这块到底是怎么回事"></a>加密这块到底是怎么回事</h3><p>简单的来说，我们若干年前使用的非 AEAD 加密，都存在被主动探测到的风险（这一块如果感兴趣想了解，可以自行谷歌 AEAD 加密的相关科普博文）</p>
<p>因此，如果是酸酸，强烈推荐使用之前提到的那 5 种 AEAD 加密，为了防止今后（可能的）来自 GFW 的主动探测</p>
<p>而酸酸乳，虽然目前并没有使用到 AEAD 加密，但是破娃酱在设计协议的时候已经考虑到了主动探测问题并且针对这块进行了设计，因此目前来说还是相对安全的，前提是你使用的是<code>chain_a</code>或<code>auth_aes128_md5</code>或<code>auth_aes128_sha1</code>协议</p>
<p>对于酸酸乳，<code>chain_a</code>是目前最佳的协议；<code>chain_b</code>虽然说更难以被识别，但是仍是一个测试版协议，并且实际使用发现丢包现象莫名十分严重，并不能用；至于酸酸乳乳那些<code>chain_c/d/e/f</code>，可以看看<a href="https://github.com/shadowsocksrr/shadowsocks-rss/blob/master/ssr.md" title="这里" target="_blank" rel="noopener">这里</a></p>
<p>之前提到的推荐配置中，酸酸乳的加密为<code>none</code>的原因是，<code>auth_chain</code>系列协议已经自带了<code>RC4</code>加密，针对 UDP 部分也有加密及长度混淆，因此一般情况下不需要再进行额外的加密；如果你觉得<code>RC4</code>加密有安全隐患，再套一层其他加密也可</p>
<p>是为了帮助新入主机坑的朋友们少走点弯路</p>
<ul>
<li>CloudCone <code>有很多优惠套餐，平均1.5刀/月</code><br>主要优点是便宜实惠，亚洲优化线路（非 CN2，但是在亚洲优化线路中已经算很稳的了），被 Q 换 IP 一刀一次十分便宜，而且年付套餐可以删除退钱到余额，余额甚至还能提现（有比这更良心的吗<br>这家的国人客户也占大多数，而且很明显是想做好中国市场的，支持支付宝付款，照顾得很周到</li>
<li>搬瓦工 <code>CN2线路，平均2.4刀/月</code><br>如果你还是觉得 CloudCone 的线路稳定性和延迟不满足你的需求可以考虑搬瓦工的 CN2，是真的稳（不像某 HostMyBytes 便宜没好货），而且被 Q 可以换 IP（好像是两刀一次），支持支付宝付款</li>
<li>Vultr <code>5刀/月</code><br>如果需要日本 VPS 这家我认为是考虑性价比和使用体验的首选，在几个月前曾经优化过日本线路，目前走 ntt，听说晚高峰会爆炸但是我自己实际用起来并没什么感觉<br>需要注意的一点是 Vultr 的 IP 都是被 P 站屏蔽了的，因此不能用来上 P 站，不过其实 P 站域名只是受到了 DNS 污染，自行加 Host 或者自行搭建无污染 DNS 都可以解决这个问题<br>手游玩家注意，Vultr 日本过不去大部分稍严的日本限定 IP 认证，如果有这方面需求请看下面的 AWS<br>对于电信联通用户只建议选日本机房，移动可以考虑新加坡<br>虽然有很多开出来的 IP 是被 Q 的，因为是小时付机子所以可以不断的创建然后删除来刷，一次成本仅 0.01 刀，放心刷</li>
<li>AWS Lightsail <code>免费或5刀/月</code><br>建议用 Github 学生包来薅羊毛，成功通过亚马逊学生认证可以得到 150 刀有效期一年的抵扣金额，机子随你开，不过注册亚马逊前请准备好信用卡，国内外皆可不限制，甚至可以用虚拟信用卡，如果是 0 额度的信用卡，请确保卡内余额 &gt;=1 刀<br>也是和 Vultr 一样电信联通只建议日本，线路是 Vultr 优化前的线路，但是质量也并不差，移动可以考虑新加坡<br>IP 基本没被墙，所以可以放心开不需要刷，就算要刷也是小时付，而且貌似现在 AWS Lightsail 是动态 IP，重启会换，那更不用怕了</li>
<li>Azure(微软) <code>只建议免费</code><br>同样是学生认证福利，网上有很多教程可以撸到，一年有效期 100 刀，可以免费开到国内直连的香港，但是可用流量很少只有 15G（只计 Out），就算 100 刀用完了也可以继续使用免费的学生套餐机，流量 10G（只计 Out）<br>缺点很明显就是流量少了点，而且微软家 Hyper-V 虚拟化再加上那种比较专业的资源管理面板（参考亚马逊 EC2）对新手来说可能会很难用…… 而且随时有翻车可能</li>
<li>阿里云国际 <code>注册要外国信用卡，建议代购</code><br>如果你想要稳定的香港 VPS，我只建议你上阿里云国际，找代购大概 9 刀 / 月，或者买礼金号</li>
</ul>
<p>把 C# 版 SSR 下下来，把压缩包里面的<strong>所有文件</strong>解压到一个文件夹中。</p>
<blockquote>
<p>请不要只解压 exe 文件，不然可能会发生一些科学无法解释的现象，比如说硬盘中一个叫 “马克思主义” 或者 “学习资料” 的文件夹消失了。——破娃酱</p>
</blockquote>
<p>然后你会发现有两个 exe 文件，后缀为 “dotnet<strong>2.0</strong>” 和 “dotnet<strong>4.0</strong>”的（sig 文件是 MD5 验证文件，不用理会）。如果你的电脑上已经安装了 donet4.0（全名 NET Framework 4.0），那么就可以使用 “donet4.0” 后缀的版本，否则请去百度 “donet4.0” 并安装，再使用。如果是 XP 用户，请直接使用 “dotnet2.0” 版本。</p>
<p>打开程序之后先别着急，第一步先找到 SSR 的任务栏图标（纸飞机样子的图标，下文均简称为 “小飞机”），右击小飞机 - 服务器订阅 - SSR 服务器订阅设置，<strong>点击 “delete” 将自带订阅删除</strong>（自带订阅早已失效，已经不需要了）。</p>
<p>接着，你就可以按照你的 SSR 服务商的提示添加服务器了。双击小飞机图标可以直接打开 “编辑服务器” 界面以手动编辑服务器。在你添加完自己的服务器之后，<strong>要记得将 SSR 自带的示例配置删掉，并切换至你要使用的配置文件</strong>，因为那个也是没有用的。部分萌新可能还会在添加完服务器之后忘记切换到自己添加的那个配置就开始使用，导致无法使用。</p>
<h2 id="功能、设置说明"><a href="#功能、设置说明" class="headerlink" title="功能、设置说明"></a>功能、设置说明</h2><p>右击小飞机，你能看到 SSR 所有的功能选项，以下是各项功能及设置的介绍。</p>
<h3 id="系统代理模式"><a href="#系统代理模式" class="headerlink" title="系统代理模式"></a>系统代理模式</h3><p>系统代理模式有四种模式可以选择：</p>
<ul>
<li>直连模式<br>会关闭系统 HTTP 代理，你的所有 HTTP 上网流量都不会通过 SSR 代理，在此模式下你只能使用 Socks5 代理方式连接 SSR 代理（详见后续的<a href="#Windows-进阶使用">进阶使用</a>）。</li>
<li>PAC 模式<br>会修改系统 IE 代理，使用 PAC 文件控制代理。PAC 文件包含了规则列表，可以控制哪些流量走 SSR，哪些不走（例如国内流量直连，国外走代理），做到智能代理。<strong>但是实际上此功能已经可以被 “<a href="#代理规则">代理规则</a>” 设置完全代替（除非你一定要用 gfwlist），因此一般不用这一模式。</strong><br>PAC 文件为 SSR 根目录下的<code>pac.txt</code>。</li>
<li>全局模式<br>会开启系统 HTTP 代理，你的所有 HTTP 上网流量将会通过 SSR 代理。<br>注意：仅能代理 HTTP 流量，即浏览网页的流量——例如浏览器浏览网页，或者某些应用程序的应用内网页（比如 QQ 的群文件、群公告这些就是），或者某些比较奇葩的使用 HTTP 方式进行通信的程序（比如 Steam 版的影之诗）。<br><strong>如果要代理应用程序，请详见 <a href="#Windows-SSTap">Windows -SSTap</a> 教程。</strong></li>
<li>保持当前状态不修改<br>顾名思义，不会对你目前的系统 HTTP 代理状态进行任何的修改。</li>
</ul>
<p>当你退出 SSR 后，系统 HTTP 代理会自动被恢复至原有状态；开启 SSR 后，同样的，系统 HTTP 代理会被设置成你所设定的系统代理模式状态。</p>
<h3 id="PAC"><a href="#PAC" class="headerlink" title="PAC"></a>PAC</h3><p>此菜单中的选项均为对 SSR 的 PAC 文件进行操作的选项，如果你不使用 “PAC 模式” 代理，那么这一节你可以直接跳过。</p>
<p>不过实际上也没什么好讲的，每个选项会执行什么操作、有什么效果，都在菜单中写的清清楚楚。</p>
<p><img src="/img/ssr_client/ShadowsocksR-1.jpg" alt></p>
<h3 id="代理规则"><a href="#代理规则" class="headerlink" title="代理规则"></a>代理规则</h3><p>代理规则指的是，对于所有通过系统 HTTP 代理或者 SOCKS5 代理被发送至 SSR 的流量，按照你设置的规则进行代理，即智能代理。</p>
<p>实际上这个设置项也没有什么可以说明的内容，每个选项也写的很清楚。这里稍微解释下某些名词及选项：</p>
<ul>
<li>绕过 xxx<br>顾名思义，绕过就是不走代理，例如选择项中的 “绕过局域网“就是当你浏览局域网网页的时候不会走 SSR 代理（最常见的例如学校、公司的内部网网页），” 绕过大陆“就是所有国内大陆的流量都不会通过 SSR 代理。</li>
<li>绕过非大陆<br>带有这个的一项实际上是给从国外翻回来的人用的，我们这些翻出去的并用不到。</li>
<li>用户自定义<br>萌新可以直接无视这一项。自定义文件为 SSR 根目录下的<code>user-rule.txt</code>，你可以在这一文件中自己定义代理规则，格式详见：<a href="https://adblockplus.org/en/filter-cheatsheet" target="_blank" rel="noopener">https://adblockplus.org/en/filter-cheatsheet</a></li>
<li>全局<br>顾名思义，所有被发送至 SSR 的流量都会走代理。</li>
</ul>
<p>日常使用我推荐使用 “绕过局域网和大陆” 的选项</p>
<h3 id="服务器"><a href="#服务器" class="headerlink" title="服务器"></a>服务器</h3><p>在这里你可以切换你已有的服务器配置，在你第一次使用的时候别忘了先切换至你自己添加的服务器配置。</p>
<ul>
<li>编辑服务器<br>直接双击小飞机也可以打开编辑窗口。</li>
<li>从文件导入服务器<br>可以导入 SSR 服务商提供的服务器配置文件。</li>
<li><p>服务器连接统计<br>直接鼠标中键单机小飞机也可以打开这一窗口，会显示你目前 SSR 的所有服务器的统计信息。</p>
<p><img src="/img/ssr_client/ShadowsocksR-2.jpg" alt></p>
<p>在这一界面，双击某个条目的服务器可以直接切换至该服务器；<br>单击某一条目的 “连接” 可以断开当前条目的所有连接；<br>双击某一条目的 “开关” 可以指定你在设置“<a href="#服务器负载均衡">服务器负载均衡</a>”时是否使用这一服务器，而双击某一个 “组”(Group) 可以批量开关这一组；<br>双击某一条目其他的列可以清零这一统计信息。</p>
</li>
</ul>
<h3 id="服务器订阅"><a href="#服务器订阅" class="headerlink" title="服务器订阅"></a>服务器订阅</h3><p>此处可以设置服务器订阅，初次使用请先删掉自带的服务器订阅（已经失效）。</p>
<p>如果你没有从 SSR 提供商处获得 SSR 服务器订阅地址，那么可以直接跳过本节。</p>
<ul>
<li>SSR 服务器订阅设置<br>点击 “ADD”，然后在右侧填入你的 SSR 服务器订阅地址，即可添加一条服务器订阅，然后直接点击确定即可。如果你勾选了左下角的 “自动更新”，在每次 SSR 启动的时候都会自动更新订阅，一般情况下无需选择。</li>
<li>更新服务器订阅<br>将会从已经设置的订阅地址中获取配置信息自动添加 / 更新至服务器配置中，<strong>并且此操作会通过你当前的 SSR 代理进行！</strong>如果你目前的 SSR 代理不是可用的代理，那么将会更新失败！<strong>因此建议选择 “更新服务器订阅（不通过代理）”。</strong>一般只有 SSR 服务器订阅地址不能在墙内访问而你有可以使用的 SSR 代理配置的时候才需要使用 SSR 代理更新订阅。</li>
</ul>
<h3 id="服务器负载均衡"><a href="#服务器负载均衡" class="headerlink" title="服务器负载均衡"></a>服务器负载均衡</h3><p>这是个基本不会用到的功能。选中以后，在每次有流量通过 SSR 代理时，会自动在没有被 “关掉” 的代理中选择一个来使用（怎么叫“关掉”？请看<a href="#服务器">服务器</a> - 服务器连接统计）。</p>
<p>如果想只在某一组服务器中切换，或者依据一定的条件来切换服务器，请右击小飞机 - <a href="#选项设置">选项设置</a>，然后看 “负载均衡” 的设置。</p>
<h3 id="选项设置"><a href="#选项设置" class="headerlink" title="选项设置"></a>选项设置</h3><ul>
<li>二级（前置）代理<br>使用代理来连接代理，就像盗梦空间那样。没有特殊需求就不用管这一项。</li>
<li>负载均衡<br>没什么好说的，每个设置有什么用都写的简单明了。</li>
<li>本地代理<br>这是个很重要的设置项。<br>本地代理实际上就是在本机 (127.0.0.1) 开启一个 SOCKS5 代理端口，端口为 “本地端口” 设置项中的端口号。<br>这一功能有什么用？请见后续<a href="#Windows-进阶使用">进阶使用</a>。<br>如果勾选了 “允许来自局域网的连接”，则与你在同一局域网的其他设备一可以通过这一 SOCKS5 代理来连接，服务器地址为你的局域网 IP 地址。<br>用户名和密码选填，如果你设置了，那么当你使用 SOCKS5 代理的时候就需要这一用户名密码了。</li>
<li>右下角的设置<br>没啥好说的（。</li>
</ul>
<h3 id="端口设置"><a href="#端口设置" class="headerlink" title="端口设置"></a>端口设置</h3><p>可以设置端口转发以及对于不同的服务器配置开启不同的本地代理 SOCKS5 端口等等。萌新直接不用管。</p>
<h3 id="二维码扫描"><a href="#二维码扫描" class="headerlink" title="二维码扫描"></a>二维码扫描</h3><p>可以扫描屏幕上的 SSR 配置信息二维码并导入服务器配置中。二维码通常由你的 SSR 供应商提供。</p>
<h3 id="剪贴板批量导入-ssr-链接"><a href="#剪贴板批量导入-ssr-链接" class="headerlink" title="剪贴板批量导入 ssr:// 链接"></a>剪贴板批量导入 ssr:// 链接</h3><p>没啥好讲的，如果你的 SSR 供应商有提供批量 SSR 服务器配置链接，你就可以复制之后通过这里导入。</p>
<h3 id="帮助"><a href="#帮助" class="headerlink" title="帮助"></a>帮助</h3><p>由于众所周知的原因，破娃酱已经删除了 Github 上的所有 SSR 项目，并且停止了对 SSR 的开发及维护，因此这里的什么 “检查更新” 啊“打开 Wiki 文档”啊都是已经没用了的选项。</p>
<p><a href="https://github.com/shadowsocksr-backup/shadowsocks-rss/wiki" target="_blank" rel="noopener">https://github.com/shadowsocksr-backup/shadowsocks-rss/wiki</a><br>以上是 Wiki 文档备份</p>
<ul>
<li>显示日志<br>显示 SSR 通信日志。</li>
<li>自定义生成二维码<br>这就是一个生成二维码的小工具而已。</li>
<li>设置客户端密码<br>为你的 SSR 客户端设置密码保护。</li>
</ul>
<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><h3 id="使用了代理之后查询自己的-IP-发现还是国内的"><a href="#使用了代理之后查询自己的-IP-发现还是国内的" class="headerlink" title="使用了代理之后查询自己的 IP 发现还是国内的"></a>使用了代理之后查询自己的 IP 发现还是国内的</h3><p>你大概是直接去百度 “IP” 或者使用了国内的查询 IP 的服务，而且你的 SSR 代理模式设置的是“绕过大陆”。</p>
<p>请将代理模式改为 “全局” 后再试，或者访问国外 IP 查询服务网站例如 <a href="https://whatismyipaddress.com/" target="_blank" rel="noopener">https://whatismyipaddress.com</a></p>
<h3 id="连上了代理但是无法上谷歌、推特等"><a href="#连上了代理但是无法上谷歌、推特等" class="headerlink" title="连上了代理但是无法上谷歌、推特等"></a>连上了代理但是无法上谷歌、推特等</h3><ul>
<li>1 按下键盘组合键 “Win + R” 调出运行窗口</li>
<li>2 输入<code>cmd</code>然后回车，这时会打开 “命令提示符”</li>
<li>3 输入<code>ipconfig /flushdns</code>然后回车</li>
<li>4 现在应该可以正常访问了</li>
</ul>
<p>这是 DNS 污染所致，想更详细的了解有关于 DNS 污染的知识请看：<a href="https://baike.baidu.com/item/DNS%E6%B1%A1%E6%9F%93/8620359?fr=aladdin" title="DNS污染是什么" target="_blank" rel="noopener">DNS 污染是什么</a></p>
<h3 id="打开-SSR-提示-xxxx-端口已被占用"><a href="#打开-SSR-提示-xxxx-端口已被占用" class="headerlink" title="打开 SSR 提示 xxxx 端口已被占用"></a>打开 SSR 提示 xxxx 端口已被占用</h3><p>你的 SSR 的 SOCKS5 端口被系统中的其他程序占用了，去更改 SSR <a href="#选项设置">选项设置</a> 中的本地端口吧。推荐改为 1025~65535 之间的端口（1024 之前的端口有系统保留端口，防止误占用）。</p>
<h3 id="无法更新-SSR-服务器订阅"><a href="#无法更新-SSR-服务器订阅" class="headerlink" title="无法更新 SSR 服务器订阅"></a>无法更新 SSR 服务器订阅</h3><p><strong>在关闭代理的情况下</strong>，直接把你的订阅网址扔到浏览器里，看看是否能正常访问，正常情况下会直接显示一串毫无规律的英文数字或者弹出一个文件下载框。</p>
<ul>
<li>能√<br>解决方法：选择 “更新 SSR 服务器订阅<strong>（不通过代理）</strong>”<br>问题分析：你可能是在还没有添加有效服务器配置的时候直接选择了 “更新 SSR 服务器订阅”。<br>如果不选含有 “（不通过代理）” 的那一项，那么 SSR <strong>默认将会通过代理来更新订阅</strong>，然而你并没有有效的服务器配置，因此自然就无法更新了。</li>
<li>不能 ×<br>那么检查一下你是不是手打打错了或者复制少了一部分网址……<br>如果你很确信订阅地址没有错，如果你有可用的代理配置的话，就尝试通过代理更新订阅。<br>如果还是不行，请找到你的 SSR 代理商询问原因。</li>
</ul>
<h3 id="正确添加了配置，但无法正常使用代理上网"><a href="#正确添加了配置，但无法正常使用代理上网" class="headerlink" title="正确添加了配置，但无法正常使用代理上网"></a>正确添加了配置，但无法正常使用代理上网</h3><p>逐步排查问题：</p>
<ol>
<li><p>你可能根本就连不上你的 ss 代理服务器<br>打开命令提示符（Win+R 打开 “运行”，输入<code>cmd</code>然后回车），接着输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping 你的SSR服务器地址</span><br></pre></td></tr></table></figure>
</li>
</ol>
<pre><code>然后回车，查看是否能 Ping 通，否则说明你目前的网络情况根本无法连接代理。
</code></pre><ol>
<li>你的 SSR 配置可能不正确<br>如果你是手动填写的配置而不是通过 SSR 提供商的一键配置来添加，那可能会出现这种情况，请检查一下你的配置是否正确。</li>
<li>SSR 的系统代理模式和代理规则是否正确<br>通常来讲推荐萌新的设置是，系统代理模式选择 “全局模式”，代理规则选择 “绕过局域网和大陆”。</li>
<li>浏览器可能没有使用系统代理<br>如果你使用了 “<a href="#Windows-进阶使用">SwitchyOmega</a>” 并且确定你配置正确了并且启用了情景模式，那么可以跳过此项。<br>如果你是比如 360 极速这种国产双核 / 多核浏览器，那么应该会有个 “代理服务器” 的设置项：<br>检查一下这项，选择 “使用 IE 代理” 或者“使用系统代理”。</li>
<li><p>会不会是你的 SSR 代理到期了或者没流量了  </p>
</li>
<li><p>你买的可能是个假代理  </p>
</li>
</ol>
<h2 id="在-Chrome-浏览器中配合-SwitchyOmega-使用"><a href="#在-Chrome-浏览器中配合-SwitchyOmega-使用" class="headerlink" title="在 Chrome 浏览器中配合 SwitchyOmega 使用"></a>在 Chrome 浏览器中配合 SwitchyOmega 使用</h2><h3 id="为什么要用-SwitchyOmega"><a href="#为什么要用-SwitchyOmega" class="headerlink" title="为什么要用 SwitchyOmega"></a>为什么要用 SwitchyOmega</h3><p>如果你想全局代理浏览器，而又不想设置系统 HTTP 代理（因为系统 HTTP 代理会代理到所有的 HTTP 连接，比如 QQ 的群公告、群文件、群相册），又或者你想强制让某些网站走 / 不走代理，则你可以在 Chrome 浏览器中安装 <a href="https://switchyomega.com/" title="点击打开SwitchyOmega官网" target="_blank" rel="noopener">SwitchyOmega</a> 插件。</p>
<p>另外，SwitchyOmega 还支持很多人性化的进阶设置，比较深层的用法具体就请自己研究吧，多用用百度，这里主要说明一下基础配置及用法。</p>
<h3 id="然后咋整"><a href="#然后咋整" class="headerlink" title="然后咋整"></a>然后咋整</h3><ul>
<li><p>1 右击 SwitchyOmega 的图标 - 选项，进入设置界面，点击 “添加情景模式”，填入一个名称（随便写），下面要选中 “代理服务器”，然后点击 “创建”。  </p>
<p><img src="/img/ssr_client/ShadowsocksR-3.jpg" alt></p>
</li>
<li><p>2 然后在你新建的情景模式中，代理协议选择<code>SOCKS5</code>，代理服务器填写<code>127.0.0.1</code>（环回地址），代理端口填写 SSR <a href="#选项设置"><strong>选项设置</strong></a>中的<strong>本地端口</strong>，然后点击左下角的 “应用选项” 就可以保存配置了。</p>
<p><img src="/img/ssr_client/ShadowsocksR-4.jpg" alt></p>
<p>再次强调一下，本地端口务必要填 <strong>SSR 选项设置</strong>中的<strong>本地端口</strong>，而不是现在这个示例图中的 1088！</p>
</li>
<li>3 点击 SwitchyOmega 的图标，选择你刚才添加并设置好的那个情景模式，这样你的浏览器的流量都会通过 SSR 了，接着你只需设置 SSR 的<a href="#系统代理模式">系统代理模式</a>为<strong>直连模式</strong>（如果你想全局翻 *）或者绕过局域网及大陆等你需要的模式，然后就可以开始愉快的上网了。</li>
</ul>
<p>每当你不想使用 SSR 代理了以后，一定要记得将情景模式选回<code>直接连接</code>，不然当你关掉 SSR 客户端以后，浏览器将会上不了网。</p>
<blockquote>
<p>SSTap 全称 SOCKSTap, 是一款利用虚拟网卡技术在网络层实现的代理工具。<br>SSTap 能在网络层拦截所有连接并转发给 HTTP, SOCKS4/5, SHADOWSOCKS(R) 代理。<br>而无需对被代理的应用程序做任何修改或设置。<br>它能同时转发 TCP, UDP 数据包。<br>它非常适合于游戏玩家使用。</p>
</blockquote>
<p>SSTap 是一个为代理游戏而生的工具，能代理辣鸡 Profixier 代理不到的应用，并且简单易用，不像 Profixier 或者 Super Socks5Cap 那样使用复杂或者需要付费。</p>
<p>它的性质与 L2TP 这类系统全局代理很像，但是可以自定义路由以绕过大陆 IP（应用自带有这些规则），这点是十分赞的。</p>
<p>这是一个免费的工具，仅有应用内常驻非弹出式广告，并不会影响使用体验。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><a href="https://www.sockscap64.com/sstap/" target="_blank" rel="noopener">https://www.sockscap64.com/sstap/</a><br>去上方的这个官网下载安装即可。<br>第一次安装的话会弹出提示安装一个虚拟网卡驱动，同意即可。</p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p><img src="/img/ssr_client/ShadowsocksR-5.jpg" alt></p>
<h3 id="添加代理"><a href="#添加代理" class="headerlink" title="添加代理"></a>添加代理</h3><p>和 SSR 的添加方式基本相同，点击主界面那个原谅色的 “+”，会有三种添加方式：</p>
<ul>
<li>SOCKS5<br><strong>如果你是使用 SS/SSR 代理，那么建议直接使用下面的 SS/SSR 代理添加</strong>，不推荐使用 SOCKS5 去连接 SS/SSR 的 SOCKS5 本地端口，因为这样的话你还需要额外将 SS/SSR 的服务器 IP 添加到代理排除列表中，十分麻烦。<br>如果你是在路由器里挂的仅 ss-local 那么就当然可以这样做。</li>
<li>SS/SSR<br>手动输入你的 SS/SSR 服务器的参数。<br>SSR 支持目前最新的<code>chain_a</code>和<code>chain_b</code>协议。</li>
<li><p>通过 SS/SSR 链接批量添加（推荐）<br>十分懒人，复制链接进去一键添加。</p>
<p><img src="/img/ssr_client/ShadowsocksR-6.jpg" alt></p>
<p>SS/SSR 链接一般由你的 SS/SSR 商提供；或者你也可以直接在 SS/SSR 客户端中查看配置，然后复制配置中的 SS/SSR 链接。</p>
<p><img src="/img/ssr_client/ShadowsocksR-7.jpg" alt></p>
</li>
<li><p>通过 SS/SSR 订阅添加（强烈推荐）<br>详见<a href="#SSR订阅">设置 - SSR 订阅</a></p>
</li>
</ul>
<p>“+” 右边的三个按钮依次是删除代理、编辑代理、测试延迟。</p>
<h3 id="模式"><a href="#模式" class="headerlink" title="模式"></a>模式</h3><p><img src="/img/ssr_client/ShadowsocksR-8.jpg" alt></p>
<p>这是 SSTap 的一个核心功能之一。<br>内置了数种规则，以上图中的规则除了正在选中的那条是我自己加的以外都是内置含有的规则。</p>
<h4 id="校园网用户注意！！！"><a href="#校园网用户注意！！！" class="headerlink" title="校园网用户注意！！！"></a>校园网用户注意！！！</h4><p>由于校园网大多数是采用程序认证的方式上网，如果局域网流量也被代理，那么你的认证将会断开而导致无法上网！</p>
<p>下面是如何修改规则让 SSTap 绕过局域网 IP 进行代理的步骤：</p>
<ul>
<li>1 右击另存为 <a href="https://www.quchao.net/files/Skip-all-China-IP-and-LAN.rules" target="_blank" rel="noopener">这个文件</a></li>
<li><p>2 右击 SSTap 快捷方式，属性，打开文件所在位置<br>实际上就是打开 SSTap 程序所在目录……  </p>
</li>
<li><p>3 进入<code>rules</code>文件夹，将压缩包里的文件放进去</p>
</li>
<li>4 退出 SSTap 并重新进入，这时候应该就能看到多出了一个 “不代理中国和局域网 IP” 的模式了，使用这个模式连接代理即可。</li>
</ul>
<p>本篇文章出处 <a href="https://www.quchao.net" target="_blank" rel="noopener">https://www.quchao.net</a> 转载请注明来源</p>
<h2 id="程序菜单"><a href="#程序菜单" class="headerlink" title="程序菜单"></a>程序菜单</h2><p>右击 SSTap 的任务栏图标或者点击主界面右下方的齿轮图标即可出现程序菜单。  </p>
<p><img src="/img/ssr_client/ShadowsocksR-9.jpg" alt></p>
<h3 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h3><p><img src="/img/ssr_client/ShadowsocksR-10.jpg" alt></p>
<p>此处可以设置关闭 UDP 转发，自定义 DNS 以及设置开机启动等。</p>
<p>除非你知道自己在干什么，否则请不要更改关闭 UDP 转发以及手动更改 DNS。</p>
<h4 id="配置智能-DNS"><a href="#配置智能-DNS" class="headerlink" title="配置智能 DNS"></a>配置智能 DNS</h4><p>当设置里的 DNS 为 “智能分流 DNS” 时，点击右侧的齿轮图标可以进入这个设置。</p>
<p>你可以分别设置国内域名使用哪个 DNS 来解析，国外的域名使用哪个 DNS 来解析以防止 DNS 污染，效果类似于 ChinaDNS。</p>
<p><img src="/img/ssr_client/ShadowsocksR-11.jpg" alt></p>
<h3 id="事件管理"><a href="#事件管理" class="headerlink" title="事件管理"></a>事件管理</h3><p><img src="/img/ssr_client/ShadowsocksR-12.jpg" alt></p>
<p>也不需要做什么说明了，一看就知道是做什么的了。</p>
<h3 id="附加路由管理"><a href="#附加路由管理" class="headerlink" title="附加路由管理"></a>附加路由管理</h3><p><img src="/img/ssr_client/ShadowsocksR-13.jpg" alt></p>
<p>可以设置指定 IP 的连接是直连还是走代理。<br>只能单个单个 IP 设置，不能使用 CIDR 格式。</p>
<p>挺希望能支持 CIDR 格式，这样的话绕过局域网就可以直接在这里实现了，不需要改规则那么麻烦……（其实也不麻烦）</p>
<h3 id="SSR-订阅"><a href="#SSR-订阅" class="headerlink" title="SSR 订阅"></a>SSR 订阅</h3><p><img src="/img/ssr_client/ShadowsocksR-14.jpg" alt></p>
<p>和 Windows 客户端的 SSR 订阅一个用法。</p>
<ul>
<li>频率<br>即订阅更新频率，“每次” 指的是每次打开 SSTap 都更新。<br>实际上正常使用的话根本不需要这么高的更新频率…… 要是有不自动更新的选项就好了。</li>
<li>OBFS 默认参数<br>在更新订阅后自动帮你把每个配置的混淆参数改成这个。<br>如果你不知道混淆以及混淆参数是什么那就无视掉这个设置项。</li>
<li>代理<br>选择一个代理，并通过这个代理来更新订阅。<br>如果你要设置此项，那么你必须已经至少添加了一个可用的代理配置。</li>
</ul>
<h2 id="常见问题-1"><a href="#常见问题-1" class="headerlink" title="常见问题"></a>常见问题</h2><h3 id="Win10-开启代理后-CPU-占用很高"><a href="#Win10-开启代理后-CPU-占用很高" class="headerlink" title="Win10 开启代理后 CPU 占用很高"></a>Win10 开启代理后 CPU 占用很高</h3><p>这是由一个 Win10 的一个网络检测服务所致，SSTap 虚拟网卡创建的连接被误认为是受限网络从而触发了检测。（大概）</p>
<p>无需理会，数分钟以后会恢复正常。</p>
<p>准备工作不用多说，下载安卓的 SSR 客户端即可。</p>
<h2 id="配置管理界面"><a href="#配置管理界面" class="headerlink" title="配置管理界面"></a>配置管理界面</h2><p>打开程序以后，点击上方的 “shadowsocks R ▼” 字样即可进入配置管理界面。</p>
<p><img src="/img/ssr_client/ShadowsocksR-15.jpg" alt></p>
<h3 id="添加配置"><a href="#添加配置" class="headerlink" title="添加配置"></a>添加配置</h3><p>点击右下角的 “+” 之后就会出现图中所示的 5 种配置添加方式，根据情况自己选择即可，这部分就不需要过多解释了，基础配置之类的与 Windows 版无异。</p>
<h3 id="删除配置"><a href="#删除配置" class="headerlink" title="删除配置"></a>删除配置</h3><p>能加当然就能删，左滑或者右滑一条配置即可删除该配置。</p>
<p>误删了怎么办？别担心，你删除之后下方会提示你可以点击 “撤销” 来撤销刚才的删除操作。</p>
<h3 id="每条配置下方的文字以及右侧的按钮"><a href="#每条配置下方的文字以及右侧的按钮" class="headerlink" title="每条配置下方的文字以及右侧的按钮"></a>每条配置下方的文字以及右侧的按钮</h3><ul>
<li>下方的文字<br>从左到右依次表示 累积上行流量、累积下载流量、节点延迟、服务器组名（如果有）。</li>
<li>闪电图标<br>点击即可以检测此节点的延迟（ping）。</li>
<li>分享按钮<br>能干什么我就不用说了，点进去一看就懂。</li>
</ul>
<h3 id="右上角的三个图标"><a href="#右上角的三个图标" class="headerlink" title="右上角的三个图标"></a>右上角的三个图标</h3><ul>
<li>一个闪电加上一个 A<br>ping 列表中的所有服务器。</li>
<li>三道杠<br>基于 ping 自动由低到高排序。</li>
<li>那个看上去像是复制的按钮<br>对，就是复制来的。点一下就会把你目前所有配置的 ssr 链接复制到剪贴板中，然后你可以发给其他设备或者朋友什么的。</li>
</ul>
<h2 id="主界面"><a href="#主界面" class="headerlink" title="主界面"></a>主界面</h2><p>点击右上角的小飞机图标即可开启代理。第一次连接会弹出一个请求 V*N 连接权限的窗口，允许即可。</p>
<p><img src="/img/ssr_client/ShadowsocksR-16.jpg" alt></p>
<h3 id="服务器设置"><a href="#服务器设置" class="headerlink" title="服务器设置"></a>服务器设置</h3><p>你可以改当前配置的配置（听起来有点怪怪的）。</p>
<h3 id="功能设置"><a href="#功能设置" class="headerlink" title="功能设置"></a>功能设置</h3><ul>
<li>路由<br>参见 Windows 版的<a href="#代理规则">代理规则</a>。<ul>
<li>自定义 ACL 文件（少用）<br>类似于 Windows 版中的 PAC 代理模式，能根据文件中的规则智能翻 *。如果需要使用此模式，选中后会让你填写 ACL 文件地址，这个地址通常由 SSR 供应商给出。</li>
</ul>
</li>
<li>IPv6 路由<br>如果代理服务器支持 IPv6，那么开启此选项之后你可以访问 IPv6 网站（即使你在 IPv4 环境下）。</li>
<li>分应用代理<br>开启后可以指定某几个应用的流量走代理。</li>
<li>UDP 转发<br>在手机上很少需要使用。如果你要代理的外服手游有使用到 UDP 通信那么就需要开启（例如 BangDream 的多人联机）。</li>
<li>China DNS<br>若你路由选了含有 “绕过大陆” 的选项，那么将使用 China DNS 来解析大陆域名。</li>
<li>DNS<br>默认解析所使用的 DNS。</li>
</ul>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul>
<li>自动连接<br>开机就会自动连。</li>
<li>TCP Fast Open<br>几乎不会用到的功能。</li>
<li>NAT 模式<br>使用旧的、需要 ROOT 的代理模式。用于安卓 4.0 以下的系统，或者当你使用 V*N 模式无法正常连接时再考虑使用。</li>
<li>重置<br>就是重置。当不小心玩坏了的时候可以试一下。</li>
<li>ACL 文件更新<br>当你的 “路由” 选的是“自定义 ACL 文件时”，点击此项可以更新 ACL 文件。</li>
<li>前置代理<br>参见 Windows 版的<a href="#选项设置">前置代理</a>。</li>
</ul>
<h2 id="常见问题-2"><a href="#常见问题-2" class="headerlink" title="常见问题"></a>常见问题</h2><h3 id="连上了代理但是无法上谷歌、推特等-1"><a href="#连上了代理但是无法上谷歌、推特等-1" class="headerlink" title="连上了代理但是无法上谷歌、推特等"></a>连上了代理但是无法上谷歌、推特等</h3><p>如果你确定你的代理是可用的，那么开关一次飞行模式即可解决 99% 的这类问题。</p>
<p>这是 DNS 污染所致，想更详细的了解有关于 DNS 污染的知识请看：<a href="https://www.quchao.net/technology/hosts-for-steam-fgo.html#DNS%E6%B1%A1%E6%9F%93%E6%98%AF%E4%BB%80%E4%B9%88" title="DNS污染是什么" target="_blank" rel="noopener">DNS 污染是什么</a></p>
<h3 id="网络正常但是无法正常使用代理"><a href="#网络正常但是无法正常使用代理" class="headerlink" title="网络正常但是无法正常使用代理"></a>网络正常但是无法正常使用代理</h3><p>具体表现为，能 Ping 通代理服务器，但是连上以后就是无法通过代理上网。</p>
<p>请依次尝试以下步骤看看是否能解决你的问题：</p>
<ul>
<li>如果你开启了 UDP 转发，那么尝试关掉它</li>
<li>尝试使用 NAT 模式（需要 Root 权限）</li>
</ul>
<p>如果你是动手能力稍差的对 iOS 不是很了解萌新，那可能在 iOS 上使用 SSR 并不是那么容易的事。并不是难以进行配置，而是难以购买代理工具……</p>
<p>不过没关系，谁都有第一次，这里只给一句忠告：<strong>学会百度，善用百度</strong></p>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="首先你需要下载一个支持-SS-SSR-的代理工具"><a href="#首先你需要下载一个支持-SS-SSR-的代理工具" class="headerlink" title="首先你需要下载一个支持 SS/SSR 的代理工具"></a>首先你需要下载一个支持 SS/SSR 的代理工具</h3><p>由于你懂的的原因，目前大多数的翻 <em> 工具在国区（中国大陆）Store 都<em>*已被下架</em></em>，因此你需要注册或者找你认识的人借一个其他区的 Apple 帐号来下载。</p>
<p>推荐注册 美区 / 日区 / 香港 / 台湾 的 Apple ID，其中美区和日区都是要挂对应地理位置的代理才能注册的，香港和台湾的应该是不需要的吧，大概……</p>
<p>我也没有试过去注册过其他区的，因为像我这种玩日服手游的人手一个日区帐号是再正常不过的事了……</p>
<h3 id="怎么注册其他区的-Apple-ID？"><a href="#怎么注册其他区的-Apple-ID？" class="headerlink" title="怎么注册其他区的 Apple ID？"></a>怎么注册其他区的 Apple ID？</h3><p>去百度吧少年，百度~和某不存在的谷歌~是你一生的老师。</p>
<h3 id="可是我不会百度啊……-能不能直接给一篇教程？"><a href="#可是我不会百度啊……-能不能直接给一篇教程？" class="headerlink" title="可是我不会百度啊…… 能不能直接给一篇教程？"></a>可是我不会百度啊…… 能不能直接给一篇教程？</h3><p>23333，我早就想到了这种情况了，所以，帮你们最后一次</p>
<ul>
<li><a href="https://www.baidu.com/s?ch=3&amp;ie=utf-8&amp;wd=%E7%BE%8E%E5%8C%BAappleid%E6%B3%A8%E5%86%8C" title="注册美区 Apple ID 教程" target="_blank" rel="noopener">注册<strong>美区</strong> Apple ID 教程</a></li>
<li><a href="https://www.baidu.com/s?ch=3&amp;ie=utf-8&amp;wd=%E6%97%A5%E5%8C%BAappleid%E6%B3%A8%E5%86%8C" title="注册日区 Apple ID 教程" target="_blank" rel="noopener">注册<strong>日区</strong> Apple ID 教程</a></li>
<li><a href="https://www.baidu.com/s?ch=3&amp;ie=utf-8&amp;wd=%E9%A6%99%E6%B8%AFappleid%E6%B3%A8%E5%86%8C" title="注册香港 Apple ID 教程" target="_blank" rel="noopener">注册<strong>香港</strong> Apple ID 教程</a></li>
<li><a href="https://www.baidu.com/s?ch=3&amp;ie=utf-8&amp;wd=%E5%8F%B0%E6%B9%BEappleid%E6%B3%A8%E5%86%8C" title="注册台湾 Apple ID 教程" target="_blank" rel="noopener">注册<strong>台湾</strong> Apple ID 教程</a></li>
</ul>
<h3 id="有账号了，然后呢"><a href="#有账号了，然后呢" class="headerlink" title="有账号了，然后呢"></a>有账号了，然后呢</h3><p>推荐去下载 <a href="https://itunes.apple.com/cn/app/shadowrocket/id932747118?mt=8" title="Shadowrocket" target="_blank" rel="noopener">Shadowrocket</a>，本教程后续也只以 Shadowrocket 为例。</p>
<p>除了 Shadowrocket 以外，你还可以使用 mume 或者 Potatso Lite 等支持 SSR 的代理工具，添加配置的本质方法都大同小异。</p>
<p>由于这些软件都为付费软件（有时候能逮到限免，比如 mume 和 Potatso Lite 就曾经限免过，我也是在这时候白嫖了一份来备用），而且在别的区并不能用微信支付宝之类的，如果你有 Store 支持的付款方式（信用卡、PayPal 等）那是最好不过的了，否则就需要去某宝购买<strong>对应商店区</strong>的礼品卡（即充值卡），充值进 Apple 账户之后再购买。</p>
<h2 id="正式开搞"><a href="#正式开搞" class="headerlink" title="正式开搞"></a>正式开搞</h2><p>有了 Shadowrocket 之后就可以开搞了，以下是 Shadowrocket 的正式教程。</p>
<p>打开 Shadowrocket，下方选项卡有四个标签，这里将分标签讲解 Shadowrocket 的功能。</p>
<h2 id="主页"><a href="#主页" class="headerlink" title="主页"></a>主页</h2><p><img src="/img/ssr_client/ShadowsocksR-17.jpg" alt></p>
<h3 id="未连接"><a href="#未连接" class="headerlink" title="未连接"></a>未连接</h3><p>emmmmmm，这个开关应该不用讲吧……<br>第一次连接的时候会弹出是否允许创建 V*N 连接的窗口，允许，然后按个指纹 / 输个密码即可。</p>
<h3 id="全局路由"><a href="#全局路由" class="headerlink" title="全局路由"></a>全局路由</h3><p>有 4 个选项：</p>
<ul>
<li>配置（推荐）<br>如果你没有自己改变过配置文件的话，那么这个选项就相当于 “绕过局域网及大陆”</li>
<li>代理<br>即全局代理</li>
<li>直连<br>直连，不主动代理任何流量。可以用于 “自己的手机不想翻 <em>，但是想把代理共享给同一局域网内需要翻 </em> 的设备” 的情况<br>基本是不会用到的</li>
<li>场景<br>根据下方 设置 - 场景 中的设置，在自己设定的情况下连接代理时会无视首页中的 “全局路由” 和“服务器”设置而使用你事先规定好的设置。</li>
</ul>
<p>下面 “设置” 中的两个设置项就不多做介绍了，属于那种 “萌新基本用不上，要用的人自然会用” 的功能。</p>
<h3 id="添加节点"><a href="#添加节点" class="headerlink" title="添加节点"></a>添加节点</h3><h4 id="自动添加"><a href="#自动添加" class="headerlink" title="自动添加"></a>自动添加</h4><ul>
<li>点击链接添加<br>根据你 SSR 商提供的 SSR 链接，在 Safari 中打开时会自动跳转到 Shadowrocket 中进行添加。</li>
<li>扫码添加<br>如果你的 SSR 商有提供节点配置二维码的话，点击左上角的扫一扫。</li>
</ul>
<h4 id="手动添加"><a href="#手动添加" class="headerlink" title="手动添加"></a>手动添加</h4><p>点击右上角的 “+”，进入配置添加界面，点击类型，然后选择 “ShadowsocksR”，接着填入 SSR 商提供的节点信息，然后完成即可。</p>
<p>以下是目前（2018-06-12） Shadowrocket 支持的代理协议：</p>
<p><img src="/img/ssr_client/ShadowsocksR-18.jpg" alt></p>
<h4 id="通过订阅添加（推荐）"><a href="#通过订阅添加（推荐）" class="headerlink" title="通过订阅添加（推荐）"></a>通过订阅添加（推荐）</h4><p>如果你的 SSR 商有提供 SSR 订阅链接的话，那是最好的。<br>跟手动添加的方法一样，但是类型选择 “Subscribe”，然后填入订阅地址，然后完成即可。</p>
<h3 id="选择节点"><a href="#选择节点" class="headerlink" title="选择节点"></a>选择节点</h3><ul>
<li>1 点击一个节点，前面出现了一个小橙点即代表你选中了这个节点。</li>
<li>2 点击 “选择节点” 右侧的 “···” 可以进入批量删除、排序模式。</li>
<li>3 左滑一个节点，可以进行 3 种操作：<ul>
<li>复制<br>复制出一份完全相同的配置供你修改（备注会自动重命名）</li>
<li>二维码<br>展示这个服务器配置的二维码以供分享</li>
<li>删除<br>节点：mmp</li>
</ul>
</li>
<li>4 左滑一个订阅，也有 3 种操作：<ul>
<li>更新<br>更新订阅</li>
<li>二维码<br>展示这个订阅的链接的二维码</li>
<li>删除<br>订阅：mmp</li>
</ul>
</li>
<li>5 点击一个配置右侧的 “i”，可以编辑这个配置。</li>
</ul>
<h2 id="！！！进阶警告！！！"><a href="#！！！进阶警告！！！" class="headerlink" title="！！！进阶警告！！！"></a>！！！进阶警告！！！</h2><p>以上即为 Shadowrocket 的基础使用说明，下面的是进阶功能使用教程。这部分比较复杂，但是是 Shadowrocket 的强大之处，不想折腾的萌新可以直接跳过，有兴趣的可以看看。</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p><img src="/img/ssr_client/ShadowsocksR-19.jpg" alt></p>
<p>前三项没什么好说的。</p>
<h3 id="测试规则"><a href="#测试规则" class="headerlink" title="测试规则"></a>测试规则</h3><p>用于测试你当前选择的配置文件，输入域名或 IP 之后回车便会返回这个域名或 IP 所应用的那条规则，用于测试规则正确性。</p>
<h3 id="本地文件"><a href="#本地文件" class="headerlink" title="本地文件"></a>本地文件</h3><p>此处列出了本机上所有的配置文件。<br>默认会有<code>default.conf</code>配置文件，这个规则为 GFWList + 绕过大陆 + 常用广告域名屏蔽 + 绕过国内常见域名。<br>点击以后会弹出二级菜单：</p>
<p><img src="/img/ssr_client/ShadowsocksR-20.jpg" alt></p>
<p>下面只讲几个重要的：</p>
<ul>
<li>编辑配置<br>下面会详细讲。</li>
<li>编辑纯文本<br>以纯文本方式编辑配置，萌新不需理会，点进去大概会觉得是天书（。<br>语法较为简单，如果了解各个设置的工作方式（下面详细讲），那么这个纯文本看一看就知道什么是什么了，大概。<br>这个主要是方便大佬们批量修改设置之类的，毕竟可以拿出来用查询替换，甚至自己写个小程序移植其他类似代理工具的配置文件。</li>
<li>导出到云<br>可以将这个配置保存到 iCloud 上，也就是备份啦。</li>
</ul>
<h3 id="添加配置-1"><a href="#添加配置-1" class="headerlink" title="添加配置"></a>添加配置</h3><p>可以把大佬们共享出来的配置文件地址放进去，导入到自己的设备里。</p>
<h2 id="配置-本地文件-编辑配置"><a href="#配置-本地文件-编辑配置" class="headerlink" title="配置 - 本地文件 - 编辑配置"></a>配置 - 本地文件 - 编辑配置</h2><p>Shadowrocket 的强大核心所在。</p>
<p><img src="/img/ssr_client/ShadowsocksR-21.jpg" alt></p>
<h3 id="通用"><a href="#通用" class="headerlink" title="通用"></a>通用</h3><p><img src="/img/ssr_client/ShadowsocksR-22.jpg" alt></p>
<p>一个配置的通用设置，一般情况下有可能需要改动的只有</p>
<ul>
<li>DNS 覆写<br>即你可以自定义 DNS （即时你使用的是移动数据），但是只有你在开启代理的时候才生效。</li>
<li>跳过代理<br>看官方的说明即可。</li>
</ul>
<h3 id="规则、添加规则"><a href="#规则、添加规则" class="headerlink" title="规则、添加规则"></a>规则、添加规则</h3><p><img src="/img/ssr_client/ShadowsocksR-23.jpg" alt></p>
<p>规则可以在上一页中点击 “添加规则” 来添加，点击后你将会看到以下界面：</p>
<p><img src="/img/ssr_client/ShadowsocksR-24.jpg" alt></p>
<h4 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h4><p>一共有 6 种类型：</p>
<p><img src="/img/ssr_client/ShadowsocksR-25.jpg" alt></p>
<ul>
<li>DOMAIN-SUFFIX（域名后缀）<br>此时应在下面填入形如<code>abc.com</code>的域名后缀，则此规则会对所有以<code>abc.com</code>结尾的域名生效，即对<code>*.abc.com</code>以及<code>abc.com</code>（顶级域名）生效。</li>
<li>DOMAIN-KEYWORD（域名关键词）<br>此时在下面填入一个关键词，所有包含这个关键词的域名都会应用这个规则。<br>例如，填入<code>abc</code>，那么<code>abc.com</code>、<code>abc.net</code>、<code>asd.abc.cn</code>、<code>123abc456.pw</code>这样的域名都会应用规则，也就是有<code>abc</code>就符合条件。</li>
<li>DOMAIN（域名）<br>最严格的条件，即必须 100% 符合你输入的域名才会应用这条规则。<br>例如填入<code>abc.com</code>，那么只对<code>abc.com</code>生效，其他的多了任何一点字母数字符号的域名都不符合这条规则。</li>
<li>USER-AGENT（用户代理）<br>用户代理即 UserAgent，简称 UA。<br>一般不会用到，即与你设置的用户代理相同的所有流量都符合这条规则。<br>不知道用户代理是什么的话可以去百度一下。</li>
<li>IP-CIDR<br>IP-CIDR 表示的是某一 IP 地址或某一网段，格式形如<code>192.168.1.100/24</code>，斜杠前为 IP 地址或子网地址，斜杠后的数字表示的是子网掩码，目的地址符合这一 IP-CIDR 的流量将会应用此规则。建议具有关于这部分一定的网络知识后再去使用。</li>
<li>GEOIP（国家 / 地区）<br>很粗暴的一种规则，填入国家 / 地区代码（比如中国是<code>CN</code>），只要流量目的地址所在地区符合，那么就应用此条规则。</li>
<li>FINAL（默认规则）<br>FINAL 规则只应该存在一条，它的作用是，如果某流量不符合你前面规定的所有规则，那么它将符合这条规则。</li>
</ul>
<h4 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h4><p>选项的内容也很简单：</p>
<ul>
<li>PROXY<br>符合这条规则就走代理。</li>
<li>REJECT<br>符合这条规则就直接屏蔽，常用于屏蔽广告。</li>
<li>DIRECR<br>符合这条规则就直连，不走代理。</li>
<li>（你代理节点名称）<br>符合这条规则就走你所选的代理节点（即使你现在使用的节点并不是这个）。</li>
</ul>
<h4 id="其他选项"><a href="#其他选项" class="headerlink" title="其他选项"></a>其他选项</h4><ul>
<li>强制远程 DNS<br>这个选项在 “类型” 为“DOMAIN”那三个时可开启，作用是，如果你开启了，那么符合规则的域名将会强行通过代理服务器进行解析，可以解决一般常见的 DNS 污染问题，甚至是某些网络环境下因上级路由重定向 DNS 而导致的 DNS 污染问题。</li>
<li>不解析域名<br>仅 “IP-CIDR” 可开启，开启后，只有直接访问 IP 地址的时候才会去匹配这条规则，如果是通过域名访问的则不会匹配这条规则。</li>
</ul>
<h3 id="Hosts、添加映射"><a href="#Hosts、添加映射" class="headerlink" title="Hosts、添加映射"></a>Hosts、添加映射</h3><ul>
<li>这个功能在 Shadowrocket 中用应用的实际上并不多~（都有代理了还要 host 干嘛）~，除非是一些特殊情况。</li>
</ul>
<h4 id="首先我们需要知道-Hosts-是什么，能做什么"><a href="#首先我们需要知道-Hosts-是什么，能做什么" class="headerlink" title="首先我们需要知道 Hosts 是什么，能做什么"></a>首先我们需要知道 Hosts 是什么，能做什么</h4><p>~不懂装懂~大致解释版：<br>简单地说，DNS 能根据域名得到对应的 IP 地址，而如果你事先往 Hosts 里记录了域名以及他们的 IP 地址，那么系统就会优先使用 Hosts 记录充当域名解析结果，而不会再去向 DNS 发出解析请求。</p>
<p>说人话版：<br>你可以用这玩意来自定义一个网址域名锁对应的 IP 地址。</p>
<p>因此 Host 也可以被用来解决 DNS 污染问题（如果需求域名不是很多的话……），甚至用来帮助反代一些 “不存在的” 网站以达到科学上网的效果。</p>
<h4 id="添加映射"><a href="#添加映射" class="headerlink" title="添加映射"></a>添加映射</h4><p>实际上就是添加一条 Host，点击添加映射即可。<br>界面很简单我也就不放图了，在 域名 中填入你想要指定 IP 的域名，在 IP 地址 中填入你自己指定的 IP 即可。<br>例如域名填入<code>abc.com</code>，IP 地址填入<code>123.123.123.123</code>，那么当你连上代理后访问 abc.com，就会以 abc.com 这个域名访问 123.123.123.123 这个 IP。</p>
<h4 id="编辑-Hosts"><a href="#编辑-Hosts" class="headerlink" title="编辑 Hosts"></a>编辑 Hosts</h4><p>过于简单，是个人都会用，不作解释~</p>
<h3 id="URL-重写"><a href="#URL-重写" class="headerlink" title="URL 重写"></a>URL 重写</h3><p>顾名思义，当访问你在其中指定的网址的时候，可以自动改写 URL 地址，以及对这些网址流量做一些奇怪的事情（x</p>
<p>点击 “添加 URL 重写” 可以添加一条 URL 重写规则。</p>
<p><img src="/img/ssr_client/ShadowsocksR-26.jpg" alt></p>
<h4 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h4><p>填写一个 URL 匹配规则，必填，使用正则表达式书写。<br>如果你不知道什么是正则表达式，去百度吧，不过这玩意对于非计算机专业 or 非理科生可能会很难理解。</p>
<h4 id="TO"><a href="#TO" class="headerlink" title="TO"></a>TO</h4><p>符合规则的 URL 将会被重写成这个。</p>
<h4 id="类型-1"><a href="#类型-1" class="headerlink" title="类型"></a>类型</h4><p><img src="/img/ssr_client/ShadowsocksR-27.jpg" alt></p>
<p>有五种类型：</p>
<ul>
<li>header<br>直接重写。</li>
<li>302<br>使用 302 重定向来重写。<br>如果不知道什么是 302 请百度 “302 重定向”。</li>
<li>reject（拒绝）</li>
<li>proxy（代理）</li>
<li>direct（直连）</li>
</ul>
<p>后面三个选项存在的意义也许是可以让你用正则表达式规则来指定哪些 URL 走代理 / 直连 / 阻止 吧，会比规则使用起来灵活一些？我也没有用实际用过（懒人一个）所以不太清楚，你们就当前面这句是我在瞎 bb…… 感觉这三个根本就不在 URL 重写的范畴内……</p>
<h3 id="HTTPS-解密"><a href="#HTTPS-解密" class="headerlink" title="HTTPS 解密"></a>HTTPS 解密</h3><p><img src="/img/ssr_client/ShadowsocksR-28.jpg" alt></p>
<p>这个功能可以说是一个十分劲爆的功能了（我最早开始用 Shadowrocket 的时候还没有这个功能），Shadowrocket 会使用中间人攻击的方式来解密你所指定的域名的 HTTPS 流量。<br>这个功能应该是用在代理日志抓 HTTPS 包上的。<br>如果你改动了这个设置，就需要生成一个新的 CA 证书并在系统设置中信用它，Shadowrocket 会提示你如何操作，照做就行。</p>
<h3 id="复制"><a href="#复制" class="headerlink" title="复制"></a>复制</h3><p>复制一份一模一样的配置并自动重命名。</p>
<h3 id="测试规则-1"><a href="#测试规则-1" class="headerlink" title="测试规则"></a>测试规则</h3><p>与上一级菜单中的测试规则一致。</p>
<h2 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h2><p>这里的功能都是辅助性的功能。<br>只讲一些重点功能。</p>
<p><img src="/img/ssr_client/ShadowsocksR-29.jpg" alt></p>
<h3 id="统计"><a href="#统计" class="headerlink" title="统计"></a>统计</h3><p>就是单纯的用量统计，你要开着代理的时候看这里才会有统计，关掉之后会立即清空。</p>
<p>开启 “启用存档” 后，每次使用代理的用量记录都会被存到下面的 “归档” 中。</p>
<h3 id="代理（日志）"><a href="#代理（日志）" class="headerlink" title="代理（日志）"></a>代理（日志）</h3><p>这是一个好用的功能，可以用来当个临时的轻量级抓包工具。</p>
<p>开启 “启用日志记录” 后就会自动记录你每次请求的 <strong>URL</strong> 和<strong>端口</strong>，以及产生请求的 <strong>APP</strong>（即 UA）和应用的<strong>规则</strong>，可以按 全部 / 代理 / 直连 / 拒绝 分类查看，并可以一键根据这些记录快速创建规则（进入一条记录的详情界面后点击右上角的 “···”）。<br>详细用法亲自一试便知。</p>
<h3 id="DNS（日志）"><a href="#DNS（日志）" class="headerlink" title="DNS（日志）"></a>DNS（日志）</h3><p>和代理日志很相似，只不过是记录了你的 DNS 请求以及解析结果。</p>
<p>可以用这个来分析是否遭到了 DNS 污染之类的。</p>
<h2 id="设置-1"><a href="#设置-1" class="headerlink" title="设置"></a>设置</h2><p><img src="/img/ssr_client/ShadowsocksR-30.jpg" alt></p>
<h3 id="证书"><a href="#证书" class="headerlink" title="证书"></a>证书</h3><p>管理你在使用 Shadowrocket 时生成的 CA 证书（例如使用了 HTTPS 解密），或者手动生成新证书。</p>
<h3 id="延迟测试方法"><a href="#延迟测试方法" class="headerlink" title="延迟测试方法"></a>延迟测试方法</h3><p>更改测试延迟的请求方法，默认是使用 ICMP。</p>
<p><a href="https://baike.baidu.com/item/ICMP/572452?fr=aladdin" title="去百度啊！给我去百度！" target="_blank" rel="noopener">ICMP 是什么？</a></p>
<p>你可以更改为 TCP，这样的话可以 ping 到一些正常情况下不给你 ping 的服务器（某些服务器可能会将 ICMP 包 DROP 掉以增加隐蔽性，即禁 ping），也可以达到在丢包率比较高的时候 ping 不至于次次超时的效果。</p>
<p>但是需要注意的是，使用 TCP 去 ping 的话得不到最准确的延迟。</p>
<h3 id="Today-部件"><a href="#Today-部件" class="headerlink" title="Today 部件"></a>Today 部件</h3><p>调整 Weight 部件的参数。</p>
<h3 id="按需求连接"><a href="#按需求连接" class="headerlink" title="按需求连接"></a>按需求连接</h3><p>一个比较赞的功能，但是我并不喜欢用它~，可能是我的可控欲比较强的缘故~。</p>
<p>简单的来说，比如按需求连接设置中有域名<code>*.google.com</code>，那么当你在未连接代理的情况下去访问<code>www.google.com</code>，那么 Shadowrocket 就会自动的帮你连上代理。</p>
<p>还有其他的设置功能，比如设置只有在使用 4G 的情况下才触发这个功能、锁屏不断代理之类的，具体请自行查看。</p>
<h3 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h3><h4 id="代理共享"><a href="#代理共享" class="headerlink" title="代理共享"></a>代理共享</h4><p>可以把你当前连接的代理在局域网中分享出去，比如你的手机和你的其他设备都连在同一个 WIFI 上，那么你就可以在其他设备在没有代理配置的情况下使用你手机上现有的代理。</p>
<p>可以自定义端口以及设置 IP 白名单。</p>
<p>我没有亲自试过这个功能所以不清楚这个代理是 SOCKS5 还是 HTTP 之类的，不过有提供二维码，拿另一台设备上的 Shadowrocket 扫一扫应该就清楚了。</p>
<h4 id="前置代理"><a href="#前置代理" class="headerlink" title="前置代理"></a>前置代理</h4><p>不多讲了，跟 Windows 客户端的<a href="#选项设置">前置代理</a>是一样的。</p>
<h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><p>就是自定义 Hosts，不过不是太清楚什么条件下才生效…… 我尝试过写 Hosts 进去但是明没有在代理的时候生效，也可能是因为我当时访问的域名都是在规则中强制使用远程 DNS 解析的？……<br>或者可能我的用法错了……</p>
<h3 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h3><p>此处可以设置 TCP 最大连接数，默认为 16，如果你没有特殊需求就不要改动这个设置。</p>
<p>这个设置的作用是当你的 TCP 连接数多于设定值时，所有不活动的 TCP 连接将立即被关闭，以减轻代理服务器的负担。</p>
<p>如果这个值设置的过高，就无法关闭冗余的 TCP 连接，会对代理服务器造成一定负担并造成端口资源的浪费。</p>
<h3 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h3><p>开启 UDP 转发后，SS 和 SSR 代理将可以转发 UDP 流量，以代理 UDP 连接。</p>
<p>比如 BangDream 的多人联机通信使用的就是 UDP。</p>
<p>UDP 转发需要 SS/SSR 服务器服务端的支持，SS 服务端好像是由服务端配置来决定是否允许 UDP 转发的，而 SSR 服务端是默认允许的。如果你使用的是 SS，那么在使用这个功能前最好询问一下你的 SS 提供商，看看服务端是否允许 UDP 转发。</p>
<h3 id="服务器订阅-1"><a href="#服务器订阅-1" class="headerlink" title="服务器订阅"></a>服务器订阅</h3><p>这个设置仅用于 SS/SSR 服务器订阅，可以设置每次开启 Shadowrocket 时是否自动更新订阅等。</p>
<h3 id="用户代理"><a href="#用户代理" class="headerlink" title="用户代理"></a>用户代理</h3><p>用户代理即 UserAgent，简称 UA。</p>
<p>这个设置可以控制经过代理的请求是否需要隐藏 UA 以保护隐私，默认开启。</p>
<h2 id="常见问题-3"><a href="#常见问题-3" class="headerlink" title="常见问题"></a>常见问题</h2><h3 id="连上了代理但是无法上谷歌、推特等-2"><a href="#连上了代理但是无法上谷歌、推特等-2" class="headerlink" title="连上了代理但是无法上谷歌、推特等"></a>连上了代理但是无法上谷歌、推特等</h3><p>如果你确定你的代理是可用的，那么开关一次飞行模式即可解决 99% 的这类问题。</p>
<p>这是 DNS 污染所致，想更详细的了解有关于 DNS 污染的知识请看：<a href="https://www.quchao.net/technology/hosts-for-steam-fgo.html#DNS%E6%B1%A1%E6%9F%93%E6%98%AF%E4%BB%80%E4%B9%88" title="DNS污染是什么" target="_blank" rel="noopener">DNS 污染是什么</a></p>

      


      

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/SSR/" rel="tag"><i class="fa fa-tag"></i> SSR</a>
            
          </div>
        

        
        
        

        
          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2019/12/08/vscode_cl_code_runner/" rel="next" title="vscode用cl来编译c++">
                  <i class="fa fa-chevron-left"></i> 
                  <p class="post-nav-pre-next-title">
                    vscode用cl来编译c++
                  </p> 
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2019/12/08/vs2017_offline_install/" rel="prev" title="Visual Studio 2017 各版本安装包离线下载、安装全解析">
                <p class="post-nav-pre-next-title">
                    Visual Studio 2017 各版本安装包离线下载、安装全解析
                </p> 
                <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        

        
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  

  <aside id="sidebar" class="sidebar">

    
      
        <div id="sidebar-dimmer"></div>
      
    

    <div class="sidebar-inner">
    
      <div class="sidebar-toggle-inside motion-element">
        <div class="sidebar-toggle-line-wrap">
          <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
        </div>
      </div>

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a href="/" class="site-author-image" rel="start" style="border:none">
            <img class="site-author-image" itemprop="image" src="/uploads/avatar.png" alt="no5ix">
          </a>
          <p class="site-author-name" itemprop="name">no5ix</p>
           
              <p class="site-description motion-element" itemprop="description">推荐使用Chrome/Firefox/Safari阅读本博客. 以前的老笔记将会一篇一篇慢慢整理为博客, 这既启发了他人, 也锻炼了自己的描述交流能力.</p>
          
        </div>

        <nav class="site-state motion-element">

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">215</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">86</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

          <div class="site-state-item site-state-about">
            <a href="/about/">
              <span class="site-state-item-about fa fa-fw fa-user"></span>
              <span class="site-state-item-name">关于</span>
            </a>
          </div>
          
        </nav>

        

        <div class="links-of-author motion-element">
          
          
          <!-- 网易云音乐 -->
            <!-- <div class="netease-cloud-music"> -->
              <!-- <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=110 src="//music.163.com/outchain/player?type=0&id=992743594&auto=0&height=90"></iframe> -->
            <!-- </div> -->
          <!-- 网易云音乐 -->

        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-block">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://119.23.17.57" title="ksun的博客" target="_blank">ksun的博客</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://mp.weixin.qq.com/mp/homepage?__biz=MzU3MTUyNzg0NQ==&hid=1&sn=7a3ae61b7af714f75d68e7ae826a2d2c&scene=18#wechat_redirect" title="你有图么我有故事" target="_blank">你有图么我有故事</a>
                </li>
              
            </ul>
          </div>
        

        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#友情提示"><span class="nav-number">2.</span> <span class="nav-text">友情提示</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-不要认为加密-协议-混淆什么的随便都行"><span class="nav-number">3.</span> <span class="nav-text">1. 不要认为加密 / 协议 / 混淆什么的随便都行</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#酸酸"><span class="nav-number">3.1.</span> <span class="nav-text">酸酸</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#酸酸乳"><span class="nav-number">3.2.</span> <span class="nav-text">酸酸乳</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-（科普）这些参数的意义是什么"><span class="nav-number">4.</span> <span class="nav-text">2. （科普）这些参数的意义是什么</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#混淆为什么不选tls"><span class="nav-number">4.1.</span> <span class="nav-text">混淆为什么不选tls</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#加密这块到底是怎么回事"><span class="nav-number">4.2.</span> <span class="nav-text">加密这块到底是怎么回事</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#功能、设置说明"><span class="nav-number">5.</span> <span class="nav-text">功能、设置说明</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#系统代理模式"><span class="nav-number">5.1.</span> <span class="nav-text">系统代理模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PAC"><span class="nav-number">5.2.</span> <span class="nav-text">PAC</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#代理规则"><span class="nav-number">5.3.</span> <span class="nav-text">代理规则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#服务器"><span class="nav-number">5.4.</span> <span class="nav-text">服务器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#服务器订阅"><span class="nav-number">5.5.</span> <span class="nav-text">服务器订阅</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#服务器负载均衡"><span class="nav-number">5.6.</span> <span class="nav-text">服务器负载均衡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#选项设置"><span class="nav-number">5.7.</span> <span class="nav-text">选项设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#端口设置"><span class="nav-number">5.8.</span> <span class="nav-text">端口设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#二维码扫描"><span class="nav-number">5.9.</span> <span class="nav-text">二维码扫描</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#剪贴板批量导入-ssr-链接"><span class="nav-number">5.10.</span> <span class="nav-text">剪贴板批量导入 ssr:// 链接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#帮助"><span class="nav-number">5.11.</span> <span class="nav-text">帮助</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常见问题"><span class="nav-number">6.</span> <span class="nav-text">常见问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用了代理之后查询自己的-IP-发现还是国内的"><span class="nav-number">6.1.</span> <span class="nav-text">使用了代理之后查询自己的 IP 发现还是国内的</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#连上了代理但是无法上谷歌、推特等"><span class="nav-number">6.2.</span> <span class="nav-text">连上了代理但是无法上谷歌、推特等</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#打开-SSR-提示-xxxx-端口已被占用"><span class="nav-number">6.3.</span> <span class="nav-text">打开 SSR 提示 xxxx 端口已被占用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#无法更新-SSR-服务器订阅"><span class="nav-number">6.4.</span> <span class="nav-text">无法更新 SSR 服务器订阅</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#正确添加了配置，但无法正常使用代理上网"><span class="nav-number">6.5.</span> <span class="nav-text">正确添加了配置，但无法正常使用代理上网</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在-Chrome-浏览器中配合-SwitchyOmega-使用"><span class="nav-number">7.</span> <span class="nav-text">在 Chrome 浏览器中配合 SwitchyOmega 使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么要用-SwitchyOmega"><span class="nav-number">7.1.</span> <span class="nav-text">为什么要用 SwitchyOmega</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#然后咋整"><span class="nav-number">7.2.</span> <span class="nav-text">然后咋整</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装"><span class="nav-number">8.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用"><span class="nav-number">9.</span> <span class="nav-text">使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#添加代理"><span class="nav-number">9.1.</span> <span class="nav-text">添加代理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#模式"><span class="nav-number">9.2.</span> <span class="nav-text">模式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#校园网用户注意！！！"><span class="nav-number">9.2.1.</span> <span class="nav-text">校园网用户注意！！！</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#程序菜单"><span class="nav-number">10.</span> <span class="nav-text">程序菜单</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#设置"><span class="nav-number">10.1.</span> <span class="nav-text">设置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#配置智能-DNS"><span class="nav-number">10.1.1.</span> <span class="nav-text">配置智能 DNS</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事件管理"><span class="nav-number">10.2.</span> <span class="nav-text">事件管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#附加路由管理"><span class="nav-number">10.3.</span> <span class="nav-text">附加路由管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SSR-订阅"><span class="nav-number">10.4.</span> <span class="nav-text">SSR 订阅</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常见问题-1"><span class="nav-number">11.</span> <span class="nav-text">常见问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Win10-开启代理后-CPU-占用很高"><span class="nav-number">11.1.</span> <span class="nav-text">Win10 开启代理后 CPU 占用很高</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#配置管理界面"><span class="nav-number">12.</span> <span class="nav-text">配置管理界面</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#添加配置"><span class="nav-number">12.1.</span> <span class="nav-text">添加配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#删除配置"><span class="nav-number">12.2.</span> <span class="nav-text">删除配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#每条配置下方的文字以及右侧的按钮"><span class="nav-number">12.3.</span> <span class="nav-text">每条配置下方的文字以及右侧的按钮</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#右上角的三个图标"><span class="nav-number">12.4.</span> <span class="nav-text">右上角的三个图标</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#主界面"><span class="nav-number">13.</span> <span class="nav-text">主界面</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#服务器设置"><span class="nav-number">13.1.</span> <span class="nav-text">服务器设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#功能设置"><span class="nav-number">13.2.</span> <span class="nav-text">功能设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#其他"><span class="nav-number">13.3.</span> <span class="nav-text">其他</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常见问题-2"><span class="nav-number">14.</span> <span class="nav-text">常见问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#连上了代理但是无法上谷歌、推特等-1"><span class="nav-number">14.1.</span> <span class="nav-text">连上了代理但是无法上谷歌、推特等</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#网络正常但是无法正常使用代理"><span class="nav-number">14.2.</span> <span class="nav-text">网络正常但是无法正常使用代理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#准备工作"><span class="nav-number">15.</span> <span class="nav-text">准备工作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#首先你需要下载一个支持-SS-SSR-的代理工具"><span class="nav-number">15.1.</span> <span class="nav-text">首先你需要下载一个支持 SS/SSR 的代理工具</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#怎么注册其他区的-Apple-ID？"><span class="nav-number">15.2.</span> <span class="nav-text">怎么注册其他区的 Apple ID？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#可是我不会百度啊……-能不能直接给一篇教程？"><span class="nav-number">15.3.</span> <span class="nav-text">可是我不会百度啊…… 能不能直接给一篇教程？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#有账号了，然后呢"><span class="nav-number">15.4.</span> <span class="nav-text">有账号了，然后呢</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#正式开搞"><span class="nav-number">16.</span> <span class="nav-text">正式开搞</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#主页"><span class="nav-number">17.</span> <span class="nav-text">主页</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#未连接"><span class="nav-number">17.1.</span> <span class="nav-text">未连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#全局路由"><span class="nav-number">17.2.</span> <span class="nav-text">全局路由</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#添加节点"><span class="nav-number">17.3.</span> <span class="nav-text">添加节点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#自动添加"><span class="nav-number">17.3.1.</span> <span class="nav-text">自动添加</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#手动添加"><span class="nav-number">17.3.2.</span> <span class="nav-text">手动添加</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#通过订阅添加（推荐）"><span class="nav-number">17.3.3.</span> <span class="nav-text">通过订阅添加（推荐）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#选择节点"><span class="nav-number">17.4.</span> <span class="nav-text">选择节点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#！！！进阶警告！！！"><span class="nav-number">18.</span> <span class="nav-text">！！！进阶警告！！！</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#配置"><span class="nav-number">19.</span> <span class="nav-text">配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#测试规则"><span class="nav-number">19.1.</span> <span class="nav-text">测试规则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#本地文件"><span class="nav-number">19.2.</span> <span class="nav-text">本地文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#添加配置-1"><span class="nav-number">19.3.</span> <span class="nav-text">添加配置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#配置-本地文件-编辑配置"><span class="nav-number">20.</span> <span class="nav-text">配置 - 本地文件 - 编辑配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#通用"><span class="nav-number">20.1.</span> <span class="nav-text">通用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#规则、添加规则"><span class="nav-number">20.2.</span> <span class="nav-text">规则、添加规则</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#类型"><span class="nav-number">20.2.1.</span> <span class="nav-text">类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#选项"><span class="nav-number">20.2.2.</span> <span class="nav-text">选项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#其他选项"><span class="nav-number">20.2.3.</span> <span class="nav-text">其他选项</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hosts、添加映射"><span class="nav-number">20.3.</span> <span class="nav-text">Hosts、添加映射</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#首先我们需要知道-Hosts-是什么，能做什么"><span class="nav-number">20.3.1.</span> <span class="nav-text">首先我们需要知道 Hosts 是什么，能做什么</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#添加映射"><span class="nav-number">20.3.2.</span> <span class="nav-text">添加映射</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#编辑-Hosts"><span class="nav-number">20.3.3.</span> <span class="nav-text">编辑 Hosts</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#URL-重写"><span class="nav-number">20.4.</span> <span class="nav-text">URL 重写</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#URL"><span class="nav-number">20.4.1.</span> <span class="nav-text">URL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TO"><span class="nav-number">20.4.2.</span> <span class="nav-text">TO</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#类型-1"><span class="nav-number">20.4.3.</span> <span class="nav-text">类型</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTPS-解密"><span class="nav-number">20.5.</span> <span class="nav-text">HTTPS 解密</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#复制"><span class="nav-number">20.6.</span> <span class="nav-text">复制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#测试规则-1"><span class="nav-number">20.7.</span> <span class="nav-text">测试规则</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据"><span class="nav-number">21.</span> <span class="nav-text">数据</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#统计"><span class="nav-number">21.1.</span> <span class="nav-text">统计</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#代理（日志）"><span class="nav-number">21.2.</span> <span class="nav-text">代理（日志）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS（日志）"><span class="nav-number">21.3.</span> <span class="nav-text">DNS（日志）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#设置-1"><span class="nav-number">22.</span> <span class="nav-text">设置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#证书"><span class="nav-number">22.1.</span> <span class="nav-text">证书</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#延迟测试方法"><span class="nav-number">22.2.</span> <span class="nav-text">延迟测试方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Today-部件"><span class="nav-number">22.3.</span> <span class="nav-text">Today 部件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#按需求连接"><span class="nav-number">22.4.</span> <span class="nav-text">按需求连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#代理"><span class="nav-number">22.5.</span> <span class="nav-text">代理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#代理共享"><span class="nav-number">22.5.1.</span> <span class="nav-text">代理共享</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#前置代理"><span class="nav-number">22.5.2.</span> <span class="nav-text">前置代理</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS"><span class="nav-number">22.6.</span> <span class="nav-text">DNS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP"><span class="nav-number">22.7.</span> <span class="nav-text">TCP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UDP"><span class="nav-number">22.8.</span> <span class="nav-text">UDP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#服务器订阅-1"><span class="nav-number">22.9.</span> <span class="nav-text">服务器订阅</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#用户代理"><span class="nav-number">22.10.</span> <span class="nav-text">用户代理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常见问题-3"><span class="nav-number">23.</span> <span class="nav-text">常见问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#连上了代理但是无法上谷歌、推特等-2"><span class="nav-number">23.1.</span> <span class="nav-text">连上了代理但是无法上谷歌、推特等</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">no5ix</span>
</div>



        

        
      </div>
    </footer>

    <!--
    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      
        <span id="scrollpercent"><span>0</span>%</span>
      
    </div>
    -->

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/dist/jquery.fancybox.js?v=3.2.10"></script>


  




  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>


  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

  <script type="text/javascript">

    var is_load_xml_finished = 0;

    var searchFunc = function (path, search_id, content_id) {
      // 0x00. environment initialization
      'use strict';

      var $input = document.getElementById(search_id);
      var $resultContent = document.getElementById(content_id);
      // var datas = [];

      /* loading css1 : Dot Css Loader*/
      var DotLoader = "<div class='loader'>Loading...</div>";

      /* loading css2 : Pure Css Loader - Square */
      var SquareLoader = 
        "<div class='loader'>" +
          "<div class='square' ></div>" +
          "<div class='square'></div>" +
          "<div class='square last'></div>" +
          "<div class='square clear'></div>" +
          "<div class='square'></div>" +
          "<div class='square last'></div>" +
          "<div class='square clear'></div>" +
          "<div class='square '></div>" +
          "<div class='square last'></div>" +
        "</div>";

      var ProgressBar = 
          "<div class='progress-bar'>" +
            "<div class='progress-bar-charge'></div>" +
          "</div>";

      var str = "";
      var keywords = [];
      var temp_keyword = "";

      // 是否为第一个字母被键入的标志位
      var first_char_flag = 0;

      // 因为在移动设备上, 点击搜索之后会 scroll 到页面顶部, 所以需要记录之前的页面x, y坐标值, 以便于搜索完点击 close 按钮之后 scroll 回原来的页面坐标值.
      var last_page_x = 0;
      var last_page_y = 0;

      var local_search_tips = 
            "<span class='local-search-empty'>" + "第一次搜索可能较慢, 先思考一个经典算法问题, 跳台阶:" + "</span>" +
            "<span class='local-search-empty'>" + "一只青蛙一次可以跳上1级台阶，也可以跳上2级。求该青蛙跳上一个6级的台阶总共有多少种跳法?n级呢?" + "</span>";

      function CloseLocalSearch()
      {
        first_char_flag = 0;

        $('#local-search-input').val('');
        $('#local-search-close').hide();

        // $('.local-search-result-cls ul li').velocity('stop').velocity('transition.slideDownOut', 200);

        $('#' + content_id).attr("headroom_special_attr","true"); 
        
        if (isMobile())
        {
          // $('body').scrollTop(last_page_y);  // scrollTop 有兼容性问题
          scrollTo(last_page_x, last_page_y);

          $('#' + content_id).hide();
        }
        else
        {
          $('#' + content_id).velocity('stop').velocity( 'transition.bounceUpOut', 200 );
        }

        // $('#' + content_id).velocity('stop').velocity( isMobile() ? 'transition.fadeOut' : 'transition.bounceUpOut', {
        //   // delay: isMobile() ? 50 : 0,
        //   duration: isMobile() ? 500 : 200,
        //   // begin: function() { 
        //   //   if (isMobile())
        //   //   {
        //   //     $('body').scrollTop(last_page_y);
        //   //   } 
        //   // }
        //   complete: function () {
        //     if (isMobile())
        //     {
        //       if (last_page_y < 20000)
        //       {
        //         $('body').velocity('scroll', { offset: last_page_y+"px", duration: last_page_y < 10000 ? 1000 : 2000 });
        //       }
        //       else
        //       {
        //         $('body').scrollTop(last_page_y);
        //       }
        //       // $('body').velocity('scroll');

        //       // $('html,body').animate({
        //       //   scrollTop: last_page_y
        //       // },400);
        //       // $('body').velocity('transition.slideDownIn', 1000);
        //       // $('body').velocity('scroll', { offset: last_page_y+"px", duration: document.body.scrollHeight < 20000 ? 1500 : 3000 });
        //     }
        //   }
        // });
      }

      function handleSearch()
      {
        if (keywords.length <= 0) {
          return;
        }
        $resultContent.innerHTML = "";
        $('#local-search-close').show();

        // 0x04. perform local searching
        if (is_load_xml_finished == 0)
        {
          $resultContent.innerHTML = 
            "<ul class='local-search-empty-ul'>" + 
            local_search_tips +
            ProgressBar;
        }
        else
        {
          // Retrieve the object from local storage
          var xml_resp = retrieve_search_xml()

          xml_resp.forEach(function (data) {
          // datas.forEach(function (data) {
            var isMatch = true;
            var content_index = [];
            if (!data.title || data.title.trim() === '') {
              data.title = "Untitled";
            }
            var is_encrypted = data.encrypted.trim() == '1'
            var is_sensitive = CONFIG.local_search.sensitive_word && data_content.indexOf(CONFIG.local_search.sensitive_word) >= 0
            var orig_data_title = data.title.trim();
            var data_title = orig_data_title.toLowerCase();
            var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
            var data_content = orig_data_content.toLowerCase();
            var data_url = decodeURIComponent(data.url);
            var index_title = -1;
            var index_content = -1;
            var first_occur = -1;
            // only match artiles with not empty contents
            if (data_content !== '') {
              keywords.forEach(function (keyword, i) {
                index_title = data_title.indexOf(keyword);
                index_content = (is_sensitive || is_encrypted) ? -1 : data_content.indexOf(keyword);

                if (index_title < 0 && index_content < 0) {
                  isMatch = false;
                } else {
                  if (index_content < 0) {
                    index_content = 0;
                  }
                  if (i == 0) {
                    first_occur = index_content;
                  }
                  // content_index.push({index_content:index_content, keyword_len:keyword_len});
                }
              });
            } else {
              isMatch = false;
            }
            // 0x05. show search results
            if (isMatch) {
              var content = orig_data_content;
              if (first_occur >= 0) {
                var match_content = "";
                if (!is_sensitive && !is_encrypted)
                {
                  // cut out 100 characters
                  var start = first_occur - 20;
                  var end = first_occur + 80;

                  if (start < 0) {
                    start = 0;
                  }

                  if (start == 0) {
                    end = 100;
                  }

                  if (end > content.length) {
                    end = content.length;
                  }

                  match_content = content.substr(start, end);
                }

                // highlight all keywords
                var regS = "";
                if (match_content != "")
                {
                  keywords.forEach(function (keyword) {
                    regS = new RegExp(keyword, "gi");
                    match_content = match_content.replace(regS, "<b class=\"search-keyword\">" + keyword + "</b>");
                    orig_data_title = orig_data_title.replace(regS, "<b class=\"search-keyword\">" + keyword + "</b>");
                  });
                }
                else
                {
                  keywords.forEach(function (keyword) {
                    regS = new RegExp(keyword, "gi");
                    orig_data_title = orig_data_title.replace(regS, "<b class=\"search-keyword\">" + keyword + "</b>");
                  });
                }
                str += "<li><a href='" + data_url + "' class='search-result-title' target='_blank'>" + orig_data_title + "</a>";
                str += "<p class=\"search-result\">" + match_content + "...</p>"
              }
              str += "</li>";
            }
          });

          str += "</ul>";
          if (str.indexOf('<li>') === -1) {
            return $resultContent.innerHTML = 
              "<ul class='local-search-empty-ul'><span class='local-search-empty'>找不到, 换个搜索关键字试一哈.<span></ul>";
          }
          $resultContent.innerHTML = str;
        }
      }

      $input.addEventListener('input', function () {
        // 0x03. parse query to keywords list
        str = '<ul class=\"search-result-list\">';
        temp_keyword = this.value.trim();
        if (temp_keyword.length <= 0) {
          CloseLocalSearch();
          return;
        }

        keywords = temp_keyword.toLowerCase().split(/[\s\-]+/);
        handleSearch();

        // 当用户键入第一个字母的时候的动画处理逻辑 : 
        // 当 first_char_flag 为 0 的时候, 
        // 要播放一个动画
        if (first_char_flag == 0)
        {
            // $('body').scrollTop(0);
          if (isMobile())
          {
            last_page_x = window.pageXOffset;
            last_page_y = window.pageYOffset;
            // $('body').scrollTop(0);
            scrollTo(0,0);

          }
          first_char_flag = 1;
          $('#' + content_id).removeAttr("headroom_special_attr");
          
          $('#' + content_id).velocity('stop').velocity('transition.slideDownIn', 300);

          $('.local-search-result-cls ul li').velocity('stop').velocity('transition.slideDownIn', 1000);
        }
      });


      var local_search_xml_data = localStorage.getItem('local_search_xml_data');
      if (!local_search_xml_data) {
        $.ajax({
          // 0x01. load xml file
          url: path,
          dataType: "xml",
          success: function (xmlResponse) {
            store_search_xml(xmlResponse);

            // setTimeout(function(){
            //   is_load_xml_finished = 1;

            //   handleSearch();
            //   $('.local-search-result-cls ul li').velocity('stop').velocity('transition.slideDownIn', 800);
            // }, 2000);
            
            // is_load_xml_finished = 1;

            handleSearch();
            $('.local-search-result-cls ul li').velocity('stop').velocity('transition.slideDownIn', 800);
          }
        });
      }

      $(document).on('click', '#local-search-close', function() {
        CloseLocalSearch();
      });

      $(document).keyup(function(event){
        switch(event.keyCode) {
          case 27:
            // alert("ESC");
            CloseLocalSearch();
        }
      });

      // $(document).on('blur', '#local-search-input', function(e) {
      //   // console.log(document.activeElement.getAttribute('class'));
        
      //   if (isMobile() == false)
      //   {
      //     CloseLocalSearch();
      //   }
      // });
    }

    function isMobile() {
      // console.log(document.body.clientWidth);
      return document.body.clientWidth < 768

      // var userAgent = window.navigator.userAgent;

      // var isiPad = userAgent.match(/iPad/i) !== null;
      // var mobileUA = [
      //   'iphone', 'android', 'phone', 'mobile',
      //   'wap', 'netfront', 'x11', 'java', 'opera mobi',
      //   'opera mini', 'ucweb', 'windows ce', 'symbian',
      //   'symbianos', 'series', 'webos', 'sony',
      //   'blackberry', 'dopod', 'nokia', 'samsung',
      //   'palmsource', 'xda', 'pieplus', 'meizu',
      //   'midp' ,'cldc' , 'motorola', 'foma',
      //   'docomo', 'up.browser', 'up.link', 'blazer',
      //   'helio', 'hosin', 'huawei', 'novarra',
      //   'coolpad', 'webos', 'techfaith', 'palmsource',
      //   'alcatel', 'amoi', 'ktouch', 'nexian',
      //   'ericsson', 'philips', 'sagem', 'wellcom',
      //   'bunjalloo', 'maui', 'smartphone', 'iemobile',
      //   'spice', 'bird', 'zte-', 'longcos',
      //   'pantech', 'gionee', 'portalmmm', 'jig browser',
      //   'hiptop', 'benq', 'haier', '^lct',
      //   '320x320', '240x320', '176x220'
      // ];
      // var pattern = new RegExp(mobileUA.join('|'), 'i');

      // return !isiPad && userAgent.match(pattern);
    }

    function store_search_xml(xmlResponse) {
        datas = $("entry", xmlResponse).map(function () {
          return {
            title: $("title", this).text(),
            content: $("content", this).text(),
            url: $("url", this).text(),
            encrypted: $("encrypted", this).text(),
          };
        }).get();
        // Put the object into storage
        localStorage.setItem('local_search_xml_data', JSON.stringify(datas));
        is_load_xml_finished = 1;

        console.log("store search.xml finished.");
    }

    function ajax_store_search_xml() {
      $.ajax({
        url: "/search.xml",
        dataType: "xml",
        success: function (xmlResponse) {
            store_search_xml(xmlResponse);
        }
      });
    }

    function retrieve_search_xml() {
        // Retrieve the object from local storage
        var retrievedObject = localStorage.getItem('local_search_xml_data');
        var xml_resp = JSON.parse(retrievedObject)
        return xml_resp
    }

    var getSearchFile = function(){
      var path = "/search.xml";
      var local_search_result_name = isMobile() ? "local-search-result-mobile" : "local-search-result-pc";
      searchFunc(path, 'local-search-input', local_search_result_name);
    }

    var local_search_xml_data = localStorage.getItem('local_search_xml_data');
    if (local_search_xml_data) {
      is_load_xml_finished = 1;
      console.log("load search.xml finished.");
    }
    var last_use_local_search_date = localStorage.getItem('last_use_local_search_date');
    var curDate = new Date();
    // 只有在 localStorage 没有 search.xml数据或者 距离上次使用local search已经超过一天了才去取search.xml
    // 节省流量
    if (last_use_local_search_date != curDate.getDate() || !local_search_xml_data) {
      // preload search.xml
      ajax_store_search_xml();
    }

    localStorage.setItem('last_use_local_search_date', curDate.getDate());
    

  </script>





  

  

  

  

  

  


  <script type="text/javascript" src="/lib/wobble_window/wobblewindow.js"> </script>
<script type="text/javascript" src="/js/src/custom.js"></script>
</body>
</html>


<!-- 页面点击小红心 -->





<script type="text/javascript" src="/js/src/headroom.js"></script> 

<!-- 代码块复制功能 -->
<script type="text/javascript" src="/js/src/clipboard-use.js"></script>
